<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laying the groundwork for peace and democratization through media innovation, civic partnership, and engagement</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.0.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.1.0"></script>
    <style>
        :root {
            --afd-primary: #005f86;
            --afd-secondary: #6ecadc;
            --afd-accent: #e3e829;
            --afd-green: #7ac143;
            --afd-orange: #f26522;
            --afd-red: #ed1c24;
            --afd-light: #f8f9fa;
            --afd-dark: #343a40;
            --afd-gray: #6c757d;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f7fa;
            margin: 0;
            padding: 0;
            color: #333;
            overflow-x: hidden; /* Prevent horizontal scroll on body */
        }

        .container {
            display: grid;
            grid-template-columns: 250px minmax(0, 1fr);
            min-height: 100vh;
            width: 100%;
            position: relative;
        }

        .sidebar {
            background-color: var(--afd-primary);
            color: white;
            padding: 0;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            height: 100vh;
            z-index: 100;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Allow sidebar content to scroll */
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
        }

        .sidebar-header h2 {
            margin: 0;
            font-weight: 500;
            font-size: 1.1rem;
            line-height: 1.4;
            text-align: center;
        }

        .sidebar-menu {
            padding: 20px 0;
            flex: 1; /* Allows menu to take available space and scroll */
            overflow-y: auto;
        }

        .sidebar-menu::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-menu::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        .sidebar-menu::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }

        .menu-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }

        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .menu-item.active {
            background-color: var(--afd-secondary);
            color: var(--afd-primary);
            font-weight: 500;
        }

        .menu-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .main-content {
            min-width: 0;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            height: 100vh;
            overflow-y: auto;
        }

        .menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: var(--afd-primary);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: fixed;
                left: -250px;
                transition: left 0.3s ease;
                width: 250px;
            }
            
            .sidebar.open {
                left: 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .main-content {
                padding-top: 70px;
            }
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .header-title-block {
            flex-grow: 1;
            margin-right: 20px;
        }

        .header h1 {
            color: var(--afd-primary);
            margin: 0;
            font-weight: 500;
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 1.8rem; /* Adjusted for larger screens */
        }

        .header h1 i {
            margin-right: 10px;
            color: var(--afd-accent);
        }

        .project-subtitle {
            font-size: 16px;
            font-weight: 400;
            color: var(--afd-primary);
            margin-top: 0;
            margin-bottom: 0;
            line-height: 1.4;
        }
        .project-subtitle strong {
            font-weight: 500;
            color: var(--afd-primary);
        }

        .user-info {
            display: flex;
            align-items: center;
            white-space: nowrap; /* Prevent wrapping of user info */
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .dashboard-cards, .cso-card, .indicator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 20px;
            transition: transform 0.3s;
            border-top: 4px solid var(--afd-primary);
        }

        .card.objective-1 { border-top-color: var(--afd-primary); }
        .card.objective-2 { border-top-color: var(--afd-green); }
        .card.objective-3 { border-top-color: var(--afd-orange); }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .card-title {
            color: var(--afd-primary);
            margin: 0;
            font-size: 1.25rem;
            font-weight: 500;
        }

        .card-value {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin: 10px 0;
        }

        .card-change {
            color: #666;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .card-change.positive { color: var(--afd-green); }
        .card-change.negative { color: var(--afd-red); }
        .card-change i { margin-right: 5px; }

        .chart-container, .timeline-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 20px;
            margin-bottom: 30px;
            height: 500px;
            display: flex;
            flex-direction: column;
            overflow: hidden; /* Hide overflow from chart itself, let wrapper handle scroll */
        }
        .timeline-container {
            height: 350px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-shrink: 0; /* Prevent header from shrinking */
        }

        .chart-title {
            font-size: 18px;
            font-weight: 500;
            color: var(--afd-primary);
            margin: 0;
        }

        .chart-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 15px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }

        .btn-primary { background-color: var(--afd-primary); color: white; }
        .btn-secondary { background-color: var(--afd-secondary); color: var(--afd-primary); }
        .btn-outline { border: 1px solid var(--afd-primary); color: var(--afd-primary); background-color: transparent; }
        .btn i { margin-right: 5px; }
        .btn:hover { opacity: 0.9; transform: translateY(-2px); }

        .table-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 20px;
            overflow-x: auto; /* Enable horizontal scrolling for tables */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px; /* Ensure table doesn't shrink too much */
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background-color: var(--afd-primary);
            color: white;
            font-weight: 500;
        }

        tr:hover { background-color: rgba(110, 202, 220, 0.1); }

        #activitiesTable1 th:first-child,
        #activitiesTable1 td:first-child {
            max-width: 300px;
            overflow-wrap: break-word;
        }

        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-completed { background-color: rgba(122, 193, 67, 0.1); color: var(--afd-green); }
        .status-inprogress { background-color: rgba(242, 101, 34, 0.1); color: var(--afd-orange); }
        .status-pending { background-color: rgba(237, 28, 36, 0.1); color: var(--afd-red); }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin-top: auto;
        }

        .progress-value {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-primary { background-color: var(--afd-primary); }
        .progress-green { background-color: var(--afd-green); }
        .progress-orange { background-color: var(--afd-orange); }

        .objective-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: thin;
            scrollbar-color: var(--afd-primary) #f5f7fa;
            -webkit-overflow-scrolling: touch;
        }

        .objective-tabs::-webkit-scrollbar { height: 6px; }
        .objective-tabs::-webkit-scrollbar-thumb { background: var(--afd-primary); border-radius: 3px; }
        .objective-tabs::-webkit-scrollbar-track { background: #f5f7fa; }

        .objective-tab {
            flex: 0 0 auto;
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .objective-tab::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: transparent;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .objective-tab:hover { background-color: rgba(0, 95, 134, 0.05); }
        .objective-tab.obj1.active { color: var(--afd-primary); background: rgba(0, 95, 134, 0.08); }
        .objective-tab.obj1.active::before { background-color: var(--afd-primary); transform: translateX(0); }
        .objective-tab.obj2.active { color: var(--afd-green); background: rgba(122, 193, 67, 0.08); }
        .objective-tab.obj2.active::before { background-color: var(--afd-green); transform: translateX(0); }
        .objective-tab.obj3.active { color: var(--afd-orange); background: rgba(242, 101, 34, 0.08); }
        .objective-tab.obj3.active::before { background-color: var(--afd-orange); transform: translateX(0); }

        .outcome-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid var(--afd-primary);
        }

        .outcome-card.obj1 { border-left-color: var(--afd-primary); }
        .outcome-card.obj2 { border-left-color: var(--afd-green); }
        .outcome-card.obj3 { border-left-color: var(--afd-orange); }

        .outcome-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .outcome-title {
            font-size: 16px;
            font-weight: 500;
            color: var(--afd-primary);
            margin: 0;
        }

        .output-item {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            background-color: rgba(110, 202, 220, 0.1);
        }

        .output-title {
            font-weight: 500;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }

        .output-title i {
            margin-right: 8px;
            color: var(--afd-primary);
        }

        .output-meta {
            display: flex;
            gap: 15px;
            font-size: 13px;
            color: var(--afd-gray);
            margin-bottom: 5px;
        }

        .activity-list {
            margin-top: 10px;
            padding-left: 20px;
        }

        .activity-item {
            padding: 8px 0;
            border-bottom: 1px dashed #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .activity-info {
            display: flex;
            align-items: center;
        }

        .activity-info i {
            margin-right: 8px;
            color: var(--afd-gray);
        }

        .activity-dates {
            font-size: 13px;
            color: var(--afd-gray);
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: var(--afd-gray);
            font-size: 14px;
            border-top: 1px solid #e0e0e0;
            margin-top: 30px;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .logo-container img {
            max-height: 40px;
            width: auto;
        }

        .objective-content { display: none; }
        .objective-content.active { display: block; }

        .filter-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-label {
            font-weight: 500;
            color: var(--afd-primary);
            white-space: nowrap;
        }

        .filter-select {
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #ddd;
            background-color: white;
            min-width: 120px;
        }

        .indicator-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 20px;
            border-left: 4px solid var(--afd-primary);
        }

        .indicator-card.obj1 { border-left-color: var(--afd-primary); }
        .indicator-card.obj2 { border-left-color: var(--afd-green); }
        .indicator-card.obj3 { border-left-color: var(--afd-orange); }

        .indicator-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .indicator-title {
            font-size: 14px;
            font-weight: 500;
            color: var(--afd-primary);
            margin: 0;
            flex: 1;
        }

        .indicator-code {
            font-size: 12px;
            color: var(--afd-gray);
            background-color: rgba(108, 117, 125, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 10px;
        }

        .indicator-chart {
            height: 150px;
            margin: 15px 0;
            position: relative;
        }

        .indicator-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .stat-item {
            text-align: center;
            flex: 1;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
        }

        .stat-label {
            font-size: 12px;
            color: var(--afd-gray);
        }

        .stat-planned { color: var(--afd-secondary); }
        .stat-actual { color: var(--afd-primary); }
        .stat-variance { color: var(--afd-green); }
        .stat-variance.negative { color: var(--afd-red); }

        .chart-canvas-wrapper {
            flex-grow: 1;
            position: relative;
            min-height: 0;
            overflow: hidden;
        }

        /* Testimonial Section Styles */
        .testimonial-card {
            width: 100%;
            margin: 20px 0;
            overflow: hidden;
            grid-column: 1 / -1; /* Makes it span all columns */
        }

        .testimonial-card .card-header {
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .testimonial-card .card-title {
            color: var(--afd-primary);
            margin: 0;
            font-size: 1.25rem;
            font-weight: 500;
        }

        .testimonial-content-wrapper {
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
        }

        .testimonial-button {
            background-color: var(--afd-light);
            color: var(--afd-primary);
            padding: 15px 20px;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            text-align: left;
            font-size: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .testimonial-button:hover {
            background-color: #f1f1f1;
        }

        .testimonial-button.active {
            background-color: var(--afd-primary);
            color: white;
        }

        .testimonial-content {
            display: none;
            padding: 20px;
            background: var(--afd-light);
            border-radius: 4px;
            margin: 10px 0;
        }

        .testimonial-content.active {
            display: block;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            margin-top: 10px;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 4px;
        }

        /* Mobile Menu Toggle Button */
        .mobile-menu-toggle {
            display: none; /* Hidden by default on desktop */
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--afd-primary);
            cursor: pointer;
            padding: 5px;
            margin-right: 15px;
        }

        /* Media Queries for Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr; /* Single column layout */
            }

            .sidebar {
                position: fixed;
                left: -250px; /* Hide sidebar off-screen */
                top: 0;
                height: 100vh;
                transition: left 0.3s ease;
                box-shadow: 2px 0 10px rgba(0, 0, 0, 0.2);
                z-index: 1000; /* Ensure it's above other content */
            }

            .sidebar.active {
                left: 0; /* Slide in sidebar */
            }

            .mobile-menu-toggle {
                display: block; /* Show hamburger menu on mobile */
            }

            .header {
                flex-direction: column; /* Stack header items vertically */
                align-items: flex-start;
                padding-bottom: 15px;
            }

            .header-title-block {
                margin-right: 0;
                margin-bottom: 15px;
            }

            .header h1 {
                font-size: 1.5rem; /* Adjust font size for mobile */
            }

            .project-subtitle {
                font-size: 0.9rem;
            }

            .user-info {
                width: 100%; /* Take full width */
                justify-content: flex-end; /* Align to right */
            }

            .main-content {
                padding: 15px; /* Adjust padding for smaller screens */
            }

            .dashboard-cards, .indicator-grid, .cso-card {
                grid-template-columns: 1fr; /* Stack cards on mobile */
                gap: 15px;
            }

            .card {
                padding: 15px;
            }

            .card-title {
                font-size: 1.1rem;
            }

            .card-value {
                font-size: 1.8rem;
            }

            .filter-container {
                flex-direction: column; /* Stack filters vertically */
                align-items: stretch; /* Stretch items to fill width */
                gap: 10px;
                padding: 10px;
            }

            .filter-group {
                flex-direction: column;
                align-items: stretch;
                gap: 5px;
            }

            .filter-select {
                width: 100%; /* Full width dropdown */
            }

            .btn {
                width: 100%; /* Full width buttons */
                justify-content: center;
            }

            .chart-container, .timeline-container {
                height: 300px; /* Adjust chart height for mobile */
                padding: 15px;
            }

            .chart-title {
                font-size: 16px;
            }

            table {
                min-width: 500px; /* Ensure tables are still wide enough to scroll */
            }

            .testimonial-content-wrapper {
                padding: 15px;
            }

            .video-grid {
                grid-template-columns: 1fr; /* Stack videos vertically */
            }

            .objective-tabs {
                padding-bottom: 5px; /* Add some padding below tabs */
            }

            .objective-tab {
                font-size: 0.9rem; /* Smaller font for tabs */
                padding: 8px 15px;
            }

            .outcome-card {
                padding: 15px;
            }

            .outcome-title {
                font-size: 15px;
            }

            .output-item {
                padding: 8px;
            }

            .output-title {
                font-size: 0.95rem;
            }

            .output-meta {
                flex-direction: column; /* Stack meta info */
                gap: 5px;
                font-size: 0.8rem;
            }
        }

        /* Overlay for mobile sidebar */
        .overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999; /* Below sidebar, above content */
        }

        .overlay.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Project Monitoring</h2>
            </div>
            <div class="sidebar-menu">
                <div class="menu-item active" data-target="objective1">
                    <i class="fas fa-home"></i> Dashboard
                </div>
                <div class="menu-item" data-target="objective1" data-scroll="capacityProgress">
                    <i class="fas fa-chart-bar"></i> Capacity Building Progress
                </div>
                <div class="menu-item" data-target="objective1" data-scroll="capacityActivities">
                    <i class="fas fa-tasks"></i> Capacity Building Activities
                </div>
                <div class="menu-item" data-target="objective1" data-scroll="capacityTimeline">
                    <i class="fas fa-clock"></i> Capacity Building Timeline
                </div>
                <div class="menu-item" data-target="objective2" data-scroll="peacebuildingActivities">
                    <i class="fas fa-tasks"></i> Peacebuilding Activities
                </div>
                <div class="menu-item" data-target="objective2" data-scroll="peacebuildingTimeline">
                    <i class="fas fa-clock"></i> Peacebuilding Timeline
                </div>
                <div class="menu-item" data-target="objective3" data-scroll="mediaProgress">
                    <i class="fas fa-chart-bar"></i> Media Development Progress
                </div>
                <div class="menu-item" data-target="objective3" data-scroll="mediaActivities">
                    <i class="fas fa-tasks"></i> Media Development Activities
                </div>
                <div class="menu-item" data-target="objective3" data-scroll="mediaTimeline">
                    <i class="fas fa-clock"></i> Media Development Timeline
                </div>
            </div>
        </div>
        <div class="main-content">
            <div class="header">
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="header-title-block">
                    <h1><i class="fas fa-chart-line"></i> MMI AFD Project Monitoring Dashboard</h1>
                    <p class="project-subtitle"><strong>Project Title:</strong> Laying the groundwork for peace and democratization through media innovation, civic partnership, and engagement</p>
                </div>
                <div class="user-info">
                    <span>M&E Associate</span>
                </div>
            </div>
            
            <div class="objective-tabs">
                <div class="objective-tab obj1 active" data-target="objective1">Outcome 1: Empowering CSOs for Peace & Democracy</div>
                <div class="objective-tab obj2" data-target="objective2">Outcome 2: Bringing Regions for Inclusive Peace & Democracy</div>
                <div class="objective-tab obj3" data-target="objective3">Outcome 3: Access to Reliable, Quality Civic Information</div>
            </div>
            
            <div class="filter-container">
                <div class="filter-group">
                    <span class="filter-label">Year:</span>
                    <select id="yearFilter" class="filter-select">
                        <option value="all" selected>All Years</option>
                        <option value="2025-2026">2025-2026</option>
                        <option value="2026-2027">2026-2027</option>
                        <option value="2027-2028">2027-2028</option>
                    </select>
                </div>
                
                <button id="applyFilter" class="btn btn-primary">
                    <i class="fas fa-filter"></i> Apply Filters
                </button>
                
                <button id="resetFilter" class="btn btn-outline">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>
            
            <!-- Objective 1 Content -->
            <div class="objective-content active" id="objective1">
                <div class="dashboard-cards">
                    <div class="card objective-1" data-year-range="2025-2028">
                        <div class="card-header">
                            <h3 class="card-title">CSOs Supported</h3>
                            <i class="fas fa-hands-helping" style="color: var(--afd-primary);"></i>
                        </div>
                        <div class="card-value">0/2</div>
                        <div class="card-change">
                            <i class="fas fa-bullseye"></i> Target: 2 CSOs
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value progress-primary" style="width: 0%;"></div>
                        </div>
                    </div>
                    
                    <div class="card objective-1" data-year-range="2025-2026">
                        <div class="card-header">
                            <h3 class="card-title">Capacity Building</h3>
                            <i class="fas fa-user-graduate" style="color: var(--afd-primary);"></i>
                        </div>
                        <div class="card-value">0 Trainees</div>
                        <div class="card-change">
                           
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value progress-primary" style="width: 0%;"></div>
                        </div>
                    </div>
                    
                    <div class="card objective-1" data-year-range="2026-2027">
                        <div class="card-header">
                            <h3 class="card-title">Organizational Docs</h3>
                            <i class="fas fa-file-alt" style="color: var(--afd-primary);"></i>
                        </div>
                        <div class="card-value">0/3</div>
                        <div class="card-change">
                            <i class="fas fa-bullseye"></i> Target: 3 Documents
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value progress-primary" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-grid">
                    <!-- Indicator 1.1 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% increase in CSO capacity scores based on OCA</h3>
                            <span class="indicator-code">1.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">50%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-50%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 1.1.1 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% improvement in PCM knowledge (pre/post-test results)</h3>
                            <span class="indicator-code">1.1.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_1_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">60%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance">-60%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 1.1.2 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title">Percentage of project activities completed according to work plan</h3>
                            <span class="indicator-code">1.1.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_1_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">100%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-100%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 1.2.1 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of new/emerging CSOs supported and attained legal status</h3>
                            <span class="indicator-code">1.2.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_2_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">2</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-2</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 1.2.3 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of organizational documents developed</h3>
                            <span class="indicator-code">1.2.3</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_2_3"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">3</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-3</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 1.3.1 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of consortia partners/CSOs with sustainability plans</h3>
                            <span class="indicator-code">1.3.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_3_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">2</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-2</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 1.3.2 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of newly registered or renewed business licenses</h3>
                            <span class="indicator-code">1.3.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_3_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">2</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-2</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 1.3.3 -->
                    <div class="indicator-card obj1">
                        <div class="indicator-header">
                            <h3 class="indicator-title">Number of income-generating activities tested</h3>
                            <span class="indicator-code">1.3.3</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator1_3_3"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">2</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-2</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="chart-container" id="capacityProgress">
                    <div class="chart-header">
                        <h3 class="chart-title">Capacity Building Progress</h3>
                    </div>
                    <div class="chart-canvas-wrapper">
                        <canvas id="capacityChart"></canvas>
                    </div>
                </div>
                
                <div class="timeline-container" id="capacityTimeline">
                    <div class="chart-header">
                        <h3 class="chart-title">Capacity Building Timeline</h3>
                    </div>
                    <div class="chart-canvas-wrapper">
                        <canvas id="timelineChart1"></canvas>
                    </div>
                </div>
                
                <div class="outcome-card obj1">
                    <div class="outcome-header">
                        <h3 class="outcome-title">Outcome 1: Strengthened the capacity and sustainability of civil society organizations to promote peace and democratic governance.</h3>
                        <span class="status-badge status-inprogress">Not Started</span>
                    </div>
                    
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i> Output 1.1: Improved institutional governance and understanding of consortium partners on PCM
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 1 - Year 3</span>
                            <span><i class="fas fa-tasks"></i> 3 Activities</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Conduct Organizational Capacity Assessment (OCA)
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Acquire Project Management System and Track Projects Progress
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Hire and train project staff
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i> Output 1.2: New and emerging CSOs in target conflict areas are enabled to serve the informational needs of marginalized audiences and enhance citizen engagement in governance and peacebuilding.
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 1: Jul - Dec</span>
                            <span><i class="fas fa-tasks"></i> 1 Activity</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Support the registration and establishment of the newly selected outside consoritum member
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Afar based community radio registration or organizational structure and capacity development
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i> Output 1.3: Strengthened financial and operational sustainability
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 1: Jul - Dec</span>
                            <span><i class="fas fa-tasks"></i> 1 Activity</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Develop business and marketing strategy
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Update previous market feasibility study and produce report
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-container" id="capacityActivities">
                    <div class="chart-header">
                        <h3 class="chart-title">Capacity Building Activities</h3>
                    </div>
                    <table id="activitiesTable1">
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Progress</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Conduct Organizational Capacity Assessment (OCA)</td>
                                <td>2025-06-01</td>
                                <td>2025-07-31</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-primary" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Acquire Project Management System</td>
                                <td>2025-06-01</td>
                                <td>2025-09-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-primary" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Hire and train project staff</td>
                                <td>2025-06-01</td>
                                <td>2025-08-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-primary" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Provide capacity development training</td>
                                <td>2025-07-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-primary" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Support the registration and establishment of the newly selected outside consoritum member</td>
                                <td>2025-07-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-primary" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Afar based community radio registration or organizational structure and capacity development</td>
                                <td>2025-07-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-primary" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Develop business and marketing strategy</td>
                                <td>2027-05-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-primary" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Objective 2 Content -->
            <div class="objective-content" id="objective2">
                <div class="dashboard-cards">
                    <div class="card objective-2" data-year-range="2026-2027">
                        <div class="card-header">
                            <h3 class="card-title">Episodes Aired</h3>
                            <i class="fas fa-broadcast-tower" style="color: var(--afd-green);"></i>
                        </div>
                        <div class="card-value">0</div>
                        <div class="progress-bar">
                            <div class="progress-value progress-green" style="width: 0%;"></div>
                        </div>
                    </div>
            
                    <div class="card objective-2" data-year-range="2026-2027">
                        <div class="card-header">
                            <h3 class="card-title">Regions Reached</h3>
                            <i class="fas fa-map-marked-alt" style="color: var(--afd-green);"></i>
                        </div>
                        <div class="card-value">0</div>
                        <div class="progress-bar">
                            <div class="progress-value progress-green" style="width: 0%;"></div>
                        </div>
                    </div>
                    
                    <div class="card objective-2" data-year-range="2026-2027">
                        <div class="card-header">
                            <h3 class="card-title">Online Engagement</h3>
                            <i class="fas fa-users" style="color: var(--afd-green);"></i>
                        </div>
                        <div class="card-value">0/3000</div>
                        <div class="card-change">
                            <i class="fas fa-bullseye"></i> Target: 3000
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value progress-green" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-grid">
                    <!-- Indicator 2.1 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of collaborative radio productions developed across regions</h3>
                            <span class="indicator-code">2.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">50</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">36</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-14</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.2 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of stakeholders engaged in dialogue</h3>
                            <span class="indicator-code">2.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">3,000</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">2,450</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-550</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.1.1 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of formal partnership agreements signed</h3>
                            <span class="indicator-code">2.1.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_1_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">20</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">15</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-5</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.1.2 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of cross border news shows produced</h3>
                            <span class="indicator-code">2.1.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_1_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">100</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">78</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-22</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.2.1 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% of audiences participating in call-in shows from rural areas</h3>
                            <span class="indicator-code">2.2.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_2_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">60%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">65%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance">+5%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.2.2 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title">Online reach/engagement of dialogue shows</h3>
                            <span class="indicator-code">2.2.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_2_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">50,000</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">42,500</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-7,500</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.2.3 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of weekly dialogue episodes developed and aired</h3>
                            <span class="indicator-code">2.2.3</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_2_3"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">156</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">120</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-36</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.3.1 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% with improved understanding of conflict mitigation</h3>
                            <span class="indicator-code">2.3.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_3_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">70%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">78%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance">+8%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 2.3.2 -->
                    <div class="indicator-card obj2">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% reporting readiness to contribute to peacebuilding</h3>
                            <span class="indicator-code">2.3.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator2_3_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">65%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">72%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance">+7%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="timeline-container" id="peacebuildingTimeline">
                    <div class="chart-header">
                        <h3 class="chart-title">Bringing Peace Timeline</h3>
                    </div>
                    <div class="chart-canvas-wrapper">
                        <canvas id="timelineChart2"></canvas>
                    </div>
                </div>
                
                <div class="outcome-card obj2">
                    <div class="outcome-header">
                        <h3 class="outcome-title">Outcome 2: Improved interregional cooperation between community radios</h3>
                        <span class="status-badge status-inprogress">In Progress</span>
                    </div>
                    
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i> Output 2.1: Strengthened partnerships among community radios
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 2 - Year 3</span>
                            <span><i class="fas fa-tasks"></i> 3 Activities</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Sign cooperation agreement between North Wollo Woldia University Community radio and Community Radio based in Afar
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Launch a weekly Amharic show
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i>Launch a weekly Afaric show
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i> Output 2.2: Increased access to inclusive intra-and inter-regional dialogue platforms
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 2 - Year 3</span>
                            <span><i class="fas fa-tasks"></i> Not Started</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i>Develop a content distribution web platform
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i> Output 2.3: Enhanced community awareness and capacity
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 2 - Year 3</span>
                            <span><i class="fas fa-tasks"></i> Not Started</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i>Produce and launch dialogue episodes
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="table-container" id="peacebuildingActivities">
                    <table style="table-layout: fixed; width: 100%;">
                        <colgroup>
                            <col style="width: 400px;"> <!-- Activity column -->
                        </colgroup>
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Progress</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Sign cooperation agreement between North Wollo Woldia University Community radio and Community Radio based in Afar</td>
                                <td>2026-06-01</td>
                                <td>2026-06-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-green" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Launch a weekly Amharic show</td>
                                <td>2026-09-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-green" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Launch a weekly Afaric show</td>
                                <td>2026-09-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-green" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Develop a content distribution web platform</td>
                                <td>2025-11-01</td>
                                <td>2026-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-green" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Produce and launch dialogue episodes</td>
                                <td>2026-05-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-green" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Objective 3 Content -->
            <div class="objective-content" id="objective3">
                <div class="dashboard-cards">
                    <div class="card objective-3" data-year-range="2025-2026">
                        <div class="card-header">
                            <h3 class="card-title">Media Trained Professionals</h3>
                            <i class="fas fa-microphone-alt" style="color: var(--afd-orange);"></i>
                        </div>
                        <div class="card-value">0</div>
                        <div class="progress-bar">
                            <div class="progress-value progress-orange" style="width: 0%;"></div>
                        </div>
                    </div>
                    
                    <div class="card objective-3" data-year-range="2025-2026">
                        <div class="card-header">
                            <h3 class="card-title">Training modules developed</h3>
                            <i class="fas fa-search" style="color: var(--afd-orange);"></i>
                        </div>
                        <div class="card-value">0</div>
                        <div class="card-change">
                            <i class="fas fa-bullseye"></i> Target: 2
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value progress-orange" style="width: 0%;"></div>
                        </div>
                    </div>
                    
                    <div class="card objective-3" data-year-range="2027-2028">
                        <div class="card-header">
                            <h3 class="card-title"> # of piloted initiatives implemented</h3>
                            <i class="fas fa-check-circle" style="color: var(--afd-orange);"></i>
                        </div>
                        <div class="card-value">0/3</div>
                        <div class="card-change">
                            <i class="fas fa-bullseye"></i> Target: 3 Tools
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value progress-orange" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-grid">
                    <!-- Indicator 3.1 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% of selected audiences from target population who report the quality of verified information they recieve has improved</h3>
                            <span class="indicator-code">3.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">80%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">75%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-5%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.1.1 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% increase in self competency assessment of trainees</h3>
                            <span class="indicator-code">3.1.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_1_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">70%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">82%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance">+12%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.1.2 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% of trained media professionals gaining employment</h3>
                            <span class="indicator-code">3.1.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_1_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">60%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">45%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-15%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.2.1 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title">Training modules produced for conflict-sensitive reporting</h3>
                            <span class="indicator-code">3.2.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_2_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">5</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">3</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-2</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.2.2 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of journalists and media professionals who receive ToT</h3>
                            <span class="indicator-code">3.2.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_2_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">50</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">42</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-8</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.2.3 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% of ToT participants able to use training module</h3>
                            <span class="indicator-code">3.2.3</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_2_3"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">80%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">75%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-5%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.2.4 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% of trained radio personnel ready to apply training</h3>
                            <span class="indicator-code">3.2.4</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_2_4"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">85%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">78%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-7%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.3.1 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title">% increase in fact-checking institutions improving access</h3>
                            <span class="indicator-code">3.3.1</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_3_1"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">40%</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">35%</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-5%</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicator 3.3.2 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title"># of piloted initiatives improving citizen access</h3>
                            <span class="indicator-code">3.3.2</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_3_2"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">10</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">8</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-2</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                    <!-- Indicator 3.3.3 -->
                    <div class="indicator-card obj3">
                        <div class="indicator-header">
                            <h3 class="indicator-title"> Business model developed for instituional sustainability of fact-checking initiatives</h3>
                            <span class="indicator-code">3.3.3</span>
                        </div>
                        <div class="indicator-chart">
                            <canvas id="indicator3_3_3"></canvas>
                        </div>
                        <div class="indicator-stats">
                            <div class="stat-item">
                                <div class="stat-value stat-planned">1</div>
                                <div class="stat-label">Planned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-actual">0</div>
                                <div class="stat-label">Actual</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value stat-variance negative">-1</div>
                                <div class="stat-label">Variance</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="chart-container" id="mediaProgress">
                    <div class="chart-header">
                        <h3 class="chart-title">Media Development Progress</h3>
                    </div>
                    <div class="chart-canvas-wrapper">
                        <canvas id="mediaChart"></canvas>
                    </div>
                </div>
                
                <div class="timeline-container" id="mediaTimeline">
                    <div class="chart-header">
                        <h3 class="chart-title">Media Development Timeline</h3>
                    </div>
                    <div class="chart-canvas-wrapper">
                        <canvas id="timelineChart3"></canvas>
                    </div>
                </div>
                
                <div class="outcome-card obj3">
                    <div class="outcome-header">
                        <h3 class="outcome-title">Outcome 3: Improved public access to reliable, high-quality information for informed civic engagement.</h3>
                        <span class="status-badge status-inprogress">Not Started</span>
                    </div>
                    
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i> Output 3.1: Improved knowledge and skills of media professionals
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 1 - Year 3</span>
                            <span><i class="fas fa-tasks"></i> 2 Activities</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Paid fellowship program
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Conduct training cohorts
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i>Output 3.2: Journalists and media professionals are equipped with practical skills.
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 2</span>
                            <span><i class="fas fa-tasks"></i> 3 Activities</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Module development
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Estabilish in-house journalism training center and conduct ToT
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="output-item">
                        <div class="output-title">
                            <i class="fas fa-check-circle"></i>Output 3.3: Sustainable tools and sustainable business models for content monitoring and fact-checking
                        </div>
                        <div class="output-meta">
                            <span><i class="fas fa-calendar"></i> Year 3</span>
                            <span><i class="fas fa-tasks"></i> 3 Activities</span>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Fact-checking training workshop
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Platform development
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-info">
                                    <i class="fas fa-tasks"></i> Continous business development support for the fact-checking intiative
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="table-container" id="mediaActivities">
                    <div class="chart-header">
                        <h3 class="chart-title">Media Development Activities</h3>
                    </div>
                    <table id="activitiesTable3">
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Progress</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Paid fellowship program</td>
                                <td>2026-01-01</td>
                                <td>2028-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-orange" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Conduct training cohorts</td>
                                <td>2025-09-01</td>
                                <td>2027-10-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-orange" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Module development</td>
                                <td>2025-05-01</td>
                                <td>2025-05-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-orange" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-inprogress">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Estabilish in-house journalism training center and conduct ToT</td>
                                <td>2026-04-01</td>
                                <td>2026-04-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-orange" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-pending">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Fact-checking training workshop</td>
                                <td>2027-05-01</td>
                                <td>2027-06-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-orange" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-pending">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Platform development</td>
                                <td>2027-07-01</td>
                                <td>2027-09-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-orange" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-pending">Not Started</span></td>
                            </tr>
                            <tr>
                                <td>Continous business development support for the fact-checking intiative</td>
                                <td>2027-08-01</td>
                                <td>2028-02-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-value progress-orange" style="width: 0%;"></div>
                                    </div>
                                </td>
                                <td><span class="status-badge status-pending">Not Started</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="dashboard-cards">
                <div class="card testimonial-card">
                    <div class="card-header">
                        <h3 class="card-title">Beneficiary Testimonials</h3>
                        <i class="fas fa-video" style="color: var(--afd-primary);"></i>
                    </div>
                    
                    <div class="testimonial-content-wrapper">
                        <button class="testimonial-button" onclick="toggleContent('northWollo')">
                            North Wollo Community Members
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div id="northWollo" class="testimonial-content">
                            <div class="video-grid">
                                <div class="video-container">
                                    <iframe src="https://www.youtube.com/embed/Vid" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_3" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" allowfullscreen></iframe>
                                </div>
                            </div>
                        </div>
                        
                        <button class="testimonial-button" onclick="toggleContent('afar')">
                            Afar Region Community Members
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div id="afar" class="testimonial-content">
                            <div class="video-grid">
                                <div class="video-container">
                                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_5" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_6" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" allowfullscreen></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                <p>Mersa Media Institute 2025 | AFD Project Monitoring Dashboard</p>
            </div>
        </div>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div class="overlay" id="sidebarOverlay"></div>

    <script>
        // Define chart data structure
        let projectChartData = {};

        // Define this near your projectChartData or globally
        const mediaPlatformTasksData = [
            {
                name: 'Platform - Phase 1: Requirements & Design',
                planned: ['2025-11-01', '2025-11-30'],
                actual: null
            },
            {
                name: 'Platform - Phase 2: Backend Development',
                planned: ['2025-12-01', '2026-01-31'],
                actual: null
            },
            {
                name: 'Platform - Phase 3: Frontend Development',
                planned: ['2026-02-01', '2026-03-31'],
                actual: null
            },
            {
                name: 'Platform - Phase 4: Testing & Deployment',
                planned: ['2026-04-01', '2026-04-30'],
                actual: null
            }
        ];

        // --- Data Fetching and Processing ---
        const INDICATOR_DEFINITIONS_URL = 'https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLh60kWjoGqGUbRUPIria9asUiuP4EJbUFmOUbywcohPq0b7arypi9am9016PopXruztwdg9IIwUIgTVX7P1tCJxO0lpTkTA3JmfYThkaDi&lib=MH52rH_YeiZLJ9x0lpTkTA3JmfYThkaDi'; // Source for Indicator Definitions and PLANNED values
        const ACTUAL_DATA_URL = 'https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLh60kWjoGqGUbRUPIria9asUiuP4EJbUFmOUbywcohPq0b7arypi9am9016PopXruztwdg9IIwUIgTVX7P1tCJxO0lpTkTA3JmfYThkaDi&lib=MH52rH_YeiZLJ9x0lpTkTA3JmfYThkaDi';       // Source for ACTUAL values (must have same structure as planned data JSON)

        const yearMapping = {
            '1': '2025-2026',
            '2': '2026-2027',
            '3': '2027-2028'
        };
        
        function parseNumericValue(value) {
            if (typeof value === 'string') {
                const num = parseFloat(value.replace(/[^0-9.-]+/g, ""));
                return isNaN(num) ? 0 : num;
            }
            if (typeof value === 'number') {
                return isNaN(value) ? 0 : value;
            }
            return 0;
        }

        async function fetchAndProcessData() {
            try {
                const rawIndicatorData = { // This is a placeholder for actual fetch
                    "Indicator Tracking Template": [
                        { "Indicator Code": 1.1, "Indicator": "% increase in CSO capacity scores based on OCA", "Target": "50%", "Year": "3",  "Year 3": 100 },
                        { "Indicator Code": "1.1.1", "Indicator": "% improvement in PCM knowledge (pre/post-test results)", "Target": "60%", "Year": "1", "Year 1": 60, "Year 2": "", "Year 3": "" },
                        { "Indicator Code": "1.1.2", "Indicator": "Percentage of project activities completed according to work plan", "Target": "100%", "Year": "1, 2, 3", "Year 1": 33, "Year 2": 33, "Year 3": 34 },
                        { "Indicator Code": "1.2.1", "Indicator": "# of new/emerging CSOs supported and attained legal status", "Target": "2", "Year": "2, 3", "Year 1": "", "Year 2": 1, "Year 3": 1 },
                        { "Indicator Code": "1.2.3", "Indicator": "# of organizational documents developed", "Target": "3", "Year": "2, 3", "Year 1": "", "Year 2": 1, "Year 3": 2 },
                        { "Indicator Code": "1.3.1", "Indicator": "# of consortia partners/CSOs with sustainability plans", "Target": "2", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 2 },
                        { "Indicator Code": "1.3.2", "Indicator": "# of newly registered or renewed business licenses", "Target": "2", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 2 },
                        { "Indicator Code": "1.3.3", "Indicator": "Number of income-generating activities tested", "Target": "2", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 2 },
                        { "Indicator Code": "2.1", "Indicator": "# of collaborative radio productions developed across regions", "Target": "2", "Year": "2, 3", "Year 1": "", "Year 2": 1, "Year 3": 1 },
                        { "Indicator Code": "2.2", "Indicator": "# of stakeholders engaged in dialogue", "Target": "3", "Year": "2, 3", "Year 1": "", "Year 2": 1, "Year 3": 2 },
                        { "Indicator Code": "2.1.1", "Indicator": "# of formal partnership agreements signed", "Target": "3", "Year": "2", "Year 1": "", "Year 2": 3, "Year 3": "" },
                        { "Indicator Code": "2.1.2", "Indicator": "# of cross border news shows produced", "Target": "2", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 2 },
                        { "Indicator Code": "2.2.1", "Indicator": "% of audiences participating in call-in shows from rural areas", "Target": "50%", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 50 },
                        { "Indicator Code": "2.2.2", "Indicator": "Online reach/engagement of dialogue shows", "Target": "3000", "Year": "2, 3", "Year 1": "", "Year 2": 1500, "Year 3": 1500 },
                        { "Indicator Code": "2.2.3", "Indicator": "# of weekly dialogue episodes developed and aired", "Target": "220", "Year": "2, 3", "Year 1": "", "Year 2": 110, "Year 3": 110 },
                        { "Indicator Code": "2.3.1", "Indicator": "% with improved understanding of conflict mitigation", "Target": "60%", "Year": "2, 3", "Year 1": "", "Year 2": 30, "Year 3": 30 },
                        { "Indicator Code": "2.3.2", "Indicator": "% reporting readiness to contribute to peacebuilding", "Target": "30%", "Year": "2, 3", "Year 1": "", "Year 2": 15, "Year 3": 15 },
                        { "Indicator Code": "3.1", "Indicator": "% reporting improved quality of verified information", "Target": "60%", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 60 },
                        { "Indicator Code": "3.1.1", "Indicator": "% increase in self competency assessment of trainees", "Target": "80%", "Year": "1, 2, 3", "Year 1": 27, "Year 2": 27, "Year 3": 26 },
                        { "Indicator Code": "3.1.2", "Indicator": "% of trained media professionals gaining employment", "Target": "50%", "Year": "1, 2, 3", "Year 1": 17, "Year 2": 17, "Year 3": 16 },
                        { "Indicator Code": "3.2.1", "Indicator": "Training modules produced for conflict-sensitive reporting", "Target": "2", "Year": "1, 2", "Year 1": 1, "Year 2": 1, "Year 3": "" },
                        { "Indicator Code": "3.2.2", "Indicator": "# of journalists and media professionals who receive ToT", "Target": "15", "Year": "2", "Year 1": "", "Year 2": 15, "Year 3": "" },
                        { "Indicator Code": "3.2.3", "Indicator": "% of ToT participants able to use training module", "Target": "80%", "Year": "2", "Year 1": "", "Year 2": 80, "Year 3": "" },
                        { "Indicator Code": "3.2.4", "Indicator": "% of trained radio personnel ready to apply training", "Target": "60%", "Year": "2", "Year 1": "", "Year 2": 60, "Year 3": "" },
                        { "Indicator Code": "3.3.1", "Indicator": "% increase in fact-checking institutions improving access", "Target": "50%", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 50 },
                        { "Indicator Code": "3.3.2", "Indicator": "# of piloted initiatives improving citizen access", "Target": "3", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 3 },
                        { "Indicator Code": "3.3.3", "Indicator": "Business model developed for instituional sustainability of fact-checking initiatives", "Target": "1", "Year": "3", "Year 1": "", "Year 2": "", "Year 3": 1 }
                    ]
                };
                const definitions = rawIndicatorData["Indicator Tracking Template"];
                const tempChartData = {};

                definitions.forEach(item => {
                    const indicatorCode = item["Indicator Code"].toString();
                    const chartKey = `indicator${indicatorCode.replace(/\./g, '_')}`;
                    
                    const yearEntries = item.Year.toString().split(',').map(entry => entry.trim());
                    const chartYears = [];
                    const plannedValues = [];

                    yearEntries.forEach(entry => {
                        if (entry.includes('-')) {
                            const [startStr, endStr] = entry.split('-');
                            const startYearNum = parseInt(startStr, 10);
                            const endYearNum = parseInt(endStr, 10);

                            if (!isNaN(startYearNum) && !isNaN(endYearNum) && startYearNum <= endYearNum) {
                                for (let yearNumIter = startYearNum; yearNumIter <= endYearNum; yearNumIter++) {
                                    const yearNumKey = yearNumIter.toString();
                                    if (yearMapping[yearNumKey]) {
                                        chartYears.push(yearMapping[yearNumKey]);
                                        const plannedValueKey = `Year ${yearNumKey}`;
                                        plannedValues.push(parseNumericValue(item[plannedValueKey]));
                                    }
                                }
                            }
                        } else {
                            const yearNumKey = entry;
                            if (yearMapping[yearNumKey]) {
                                chartYears.push(yearMapping[yearNumKey]);
                                const plannedValueKey = `Year ${yearNumKey}`;
                                plannedValues.push(parseNumericValue(item[plannedValueKey]));
                            }
                        }
                    });

                    if (chartYears.length > 0) {
                        tempChartData[chartKey] = {
                            years: [...new Set(chartYears)],
                            planned: plannedValues,
                            actual: new Array(chartYears.length).fill(0) // Initialize actuals to 0
                        };
                    }
                });

                // Placeholder for actual data if fetching from URL fails or is not needed
                const rawActualData = {
                    "Indicator Tracking Template": [
                        // Example: Actual data for indicator 1.1.1 for Year 1
                        { "Indicator Code": "1.1.1", "Year 1": 45 },
                        { "Indicator Code": "2.1", "Year 2": 36, "Year 3": 0 }, // Example actuals for 2.1
                        // Add more actual data as needed for other indicators
                    ]
                };

                // Attempt to fetch actual data, but use placeholder if fetch fails
                let actualsDefinitions = [];
                try {
                    const actualsResponse = await fetch(ACTUAL_DATA_URL);
                    if (!actualsResponse.ok) {
                        console.warn(`Failed to fetch actual data from ${ACTUAL_DATA_URL}: ${actualsResponse.statusText}. Using placeholder actual data.`);
                        actualsDefinitions = rawActualData["Indicator Tracking Template"];
                    } else {
                        const actualsFullJson = await actualsResponse.json();
                        if (!actualsFullJson || !actualsFullJson["Indicator Tracking Template"]) {
                            console.warn("Actual data JSON from ACTUAL_DATA_URL does not contain 'Indicator Tracking Template' array. Using placeholder actual data.");
                            actualsDefinitions = rawActualData["Indicator Tracking Template"];
                        } else {
                            actualsDefinitions = actualsFullJson["Indicator Tracking Template"];
                        }
                    }
                } catch (fetchError) {
                    console.error("Network or parsing error fetching actual data. Using placeholder actual data:", fetchError);
                    actualsDefinitions = rawActualData["Indicator Tracking Template"];
                }

                actualsDefinitions.forEach(actualItem => {
                    const indicatorCode = actualItem["Indicator Code"].toString();
                    const chartKey = `indicator${indicatorCode.replace(/\./g, '_')}`;

                    if (tempChartData[chartKey]) {
                        const chartYears = tempChartData[chartKey].years;
                        const newActualValues = [];

                        chartYears.forEach(yearLabel => {
                            let actualValueForYear = 0;
                            const numericYearStr = Object.keys(yearMapping).find(key => yearMapping[key] === yearLabel);

                            if (numericYearStr) {
                                const actualDataKeyForJson = `Year ${numericYearStr}`;
                                if (actualItem.hasOwnProperty(actualDataKeyForJson)) {
                                    actualValueForYear = parseNumericValue(actualItem[actualDataKeyForJson]);
                                }
                            }
                            newActualValues.push(actualValueForYear);
                        });
                        tempChartData[chartKey].actual = newActualValues;
                    }
                });

                projectChartData = tempChartData;
                console.log("Processed projectChartData:", JSON.parse(JSON.stringify(projectChartData)));
                initCharts(projectChartData);

            } catch (error) {
                console.error("Error in fetchAndProcessData (after fetch attempt):", error);
                // Ensure projectChartData is at least an empty object if a critical error occurs
                if (Object.keys(projectChartData).length === 0) {
                    projectChartData = {}; // Initialize to empty object
                    initCharts({}); // Pass empty data to initCharts to prevent further errors
                }
            }
        }
            
        function updateAllIndicatorStats(currentDisplayData) {
            for (const [indicatorId, data] of Object.entries(currentDisplayData)) {
                // Defensive check for data existence and required properties
                if (!data || !Array.isArray(data.planned) || !Array.isArray(data.actual) || !Array.isArray(data.years)) {
                    console.warn(`Skipping update for indicator ${indicatorId} due to missing or invalid data.`);
                    continue; // Skip this indicator if data is incomplete
                }

                const totalPlanned = data.planned.reduce((sum, val) => sum + (parseFloat(val) || 0), 0);
                const totalActual = data.actual.reduce((sum, val) => sum + (parseFloat(val) || 0), 0);

                const indicatorCard = document.querySelector(`#${indicatorId}`)?.closest('.indicator-card');
                if (!indicatorCard) continue;

                const plannedElement = indicatorCard.querySelector('.stat-planned');
                const actualElement = indicatorCard.querySelector('.stat-actual');
                const varianceElement = indicatorCard.querySelector('.stat-variance');

                const isPercentage = [
                    'indicator1_1', 'indicator1_1_1', 'indicator1_1_2',
                    'indicator2_2_1', 'indicator2_3_1', 'indicator2_3_2',
                    'indicator3_1', 'indicator3_1_1', 'indicator3_1_2',
                    'indicator3_2_3', 'indicator3_2_4', 'indicator3_3_1'
                ].includes(indicatorId);

                plannedElement.textContent = isPercentage ? `${totalPlanned.toFixed(0)}%` : totalPlanned.toFixed(0);
                actualElement.textContent = isPercentage ? `${totalActual.toFixed(0)}%` : totalActual.toFixed(0);
                
                let varianceDisplay = 'N/A';
                varianceElement.classList.remove('negative', 'positive');

                if (totalPlanned === 0) {
                    if (totalActual > 0) {
                        varianceDisplay = '+NEW';
                        varianceElement.classList.add('positive');
                    } else {
                        varianceDisplay = '0%';
                    }
                } else {
                    const varianceValue = ((totalActual - totalPlanned) / totalPlanned) * 100;
                    varianceDisplay = `${varianceValue > 0 ? '+' : ''}${varianceValue.toFixed(1)}%`;
                    varianceElement.classList.add(varianceValue < 0 ? 'negative' : 'positive');
                }
                varianceElement.textContent = varianceDisplay;
            }
        }
            
        function createBarChart(canvasId, chartData, label) {
            // Defensive check for chartData and its properties
            if (!chartData || !Array.isArray(chartData.years) || !Array.isArray(chartData.planned) || !Array.isArray(chartData.actual)) {
                console.warn(`Cannot create chart for ${canvasId}: Missing or invalid chartData.`);
                return; // Exit if data is incomplete
            }

            const ctx = document.getElementById(canvasId);
            if (!ctx) {
                console.warn(`Canvas element with ID '${canvasId}' not found. Skipping chart creation.`);
                return;
            }
            const context = ctx.getContext('2d');

            if (window[canvasId + 'Chart']) {
                window[canvasId + 'Chart'].destroy();
            }

            const isPercent = label.includes('%');

            window[canvasId + 'Chart'] = new Chart(context, { // Use 'context' instead of 'ctx'
                type: 'bar',
                data: {
                    labels: chartData.years,
                    datasets: [
                        {
                            label: 'Planned',
                            data: chartData.planned,
                            backgroundColor: 'rgba(110, 202, 220, 0.7)',
                            borderColor: 'rgba(110, 202, 220, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Actual',
                            data: chartData.actual,
                            backgroundColor: 'rgba(0, 95, 134, 0.7)',
                            borderColor: 'rgba(0, 95, 134, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                        indexAxis: 'x',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    font: {
                                        size: 11,
                                        weight: '500'
                                    },
                                    usePointStyle: true,
                                    pointStyle: 'circle'
                                }
                            },
                            title: {
                                display: true,
                                text: label,
                                font: {
                                    size: 12,
                                    weight: '600'
                                },
                                padding: {
                                    top: 10,
                                    bottom: 10
                                }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                backgroundColor: 'rgba(255, 255, 255, 0.9)',
                                titleColor: '#333',
                                bodyColor: '#666',
                                borderColor: '#ddd',
                                borderWidth: 1,
                                padding: 10,
                                displayColors: true,
                                usePointStyle: true,
                                callbacks: {
                                    label: function(context) {
                                        let val = context.raw;
                                        if (isPercent) return context.dataset.label + ': ' + val + '%';
                                        return context.dataset.label + ': ' + val;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                },
                                ticks: {
                                    font: {
                                        size: 10
                                    }
                                }
                            },
                            y: {
                                beginAtZero: true,
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    font: {
                                        size: 10
                                    },
                                    stepSize: 1,
                                    callback: function(value) {
                                        return Math.floor(value);
                                    }
                                }
                            }
                        }
                    }
            });
        }

        function initIndicatorCharts(data) {
            updateAllIndicatorStats(data);

            createBarChart('indicator1_1', data.indicator1_1, '% increase in CSO capacity scores based on OCA');
            createBarChart('indicator1_1_1', data.indicator1_1_1, '% improvement in PCM knowledge (pre/post-test results)');
            createBarChart('indicator1_1_2', data.indicator1_1_2, 'Percentage of project activities completed according to work plan');
            createBarChart('indicator1_2_1', data.indicator1_2_1, '# of new/emerging CSOs supported and attained legal status');
            createBarChart('indicator1_2_3', data.indicator1_2_3, '# of organizational documents developed');
            createBarChart('indicator1_3_1', data.indicator1_3_1, '# of consortia partners/CSOs with sustainability plans');
            createBarChart('indicator1_3_2', data.indicator1_3_2, '# of newly registered or renewed business licenses');
            createBarChart('indicator1_3_3', data.indicator1_3_3, 'Number of income-generating activities tested');
            createBarChart('indicator2_1', data.indicator2_1, '# of collaborative radio productions developed across regions');
            createBarChart('indicator2_2', data.indicator2_2, '# of stakeholders engaged in dialogue');
            createBarChart('indicator2_1_1', data.indicator2_1_1, '# of formal partnership agreements signed');
            createBarChart('indicator2_1_2', data.indicator2_1_2, '# of cross border news shows produced');
            createBarChart('indicator2_2_1', data.indicator2_2_1, '% of audiences participating in call-in shows from rural areas');
            createBarChart('indicator2_2_2', data.indicator2_2_2, 'Online reach/engagement of dialogue shows');
            createBarChart('indicator2_2_3', data.indicator2_2_3, '# of weekly dialogue episodes developed and aired');
            createBarChart('indicator2_3_1', data.indicator2_3_1, '% with improved understanding of conflict mitigation');
            createBarChart('indicator2_3_2', data.indicator2_3_2, '% reporting readiness to contribute to peacebuilding');
            createBarChart('indicator3_1', data.indicator3_1, '% reporting improved quality of verified information');
            createBarChart('indicator3_1_1', data.indicator3_1_1, '% increase in self competency assessment of trainees');
            createBarChart('indicator3_1_2', data.indicator3_1_2, '% of trained media professionals gaining employment');
            createBarChart('indicator3_2_1', data.indicator3_2_1, 'Training modules produced for conflict-sensitive reporting');
            createBarChart('indicator3_2_2', data.indicator3_2_2, '# of journalists and media professionals who receive ToT');
            createBarChart('indicator3_2_3', data.indicator3_2_3, '% of ToT participants able to use training module');
            createBarChart('indicator3_2_4', data.indicator3_2_4, '% of trained radio personnel ready to apply training');
            createBarChart('indicator3_3_1', data.indicator3_3_1, '% increase in fact-checking institutions improving access');
            createBarChart('indicator3_3_2', data.indicator3_3_2, '# of piloted initiatives improving citizen access');
            createBarChart('indicator3_3_3', data.indicator3_3_3, 'Business model developed for instituional sustainability of fact-checking initiatives');
        }
            
        function filterSummaryCards(selectedYear) {
            document.querySelectorAll('.objective-content.active .dashboard-cards .card').forEach(card => {
                if (card.closest('.indicator-grid') || card.classList.contains('testimonial-card')) {
                    return;
                }

                const cardYearRange = card.dataset.yearRange;
                
                if (cardYearRange) {
                    if (selectedYear === 'all' || cardYearRange === selectedYear) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                } else {
                    card.style.display = '';
                }
            });
        }

        function initCharts(sourceChartData) {
            const activeContent = document.querySelector('.objective-content.active');
            if (!activeContent) return;

            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const currentDateString = `${year}-${month}-${day}`;

            const selectedYear = document.getElementById('yearFilter').value;
            let dataForIndicators = JSON.parse(JSON.stringify(sourceChartData));

            if (selectedYear !== 'all') {
                for (const indicatorId in dataForIndicators) {
                    if (dataForIndicators.hasOwnProperty(indicatorId) && dataForIndicators[indicatorId] && dataForIndicators[indicatorId].years) {
                        const indicator = dataForIndicators[indicatorId];
                        const yearIndex = indicator.years.indexOf(selectedYear);

                        if (yearIndex !== -1) {
                            indicator.planned = indicator.planned[yearIndex] !== undefined ? [indicator.planned[yearIndex]] : [];
                            indicator.actual = indicator.actual[yearIndex] !== undefined ? [indicator.actual[yearIndex]] : [];
                            indicator.years = [selectedYear];
                        } else {
                            indicator.planned = [];
                            indicator.actual = [];
                            indicator.years = [];
                        }
                    }
                }
            }

            filterSummaryCards(selectedYear);
            const activeObjectiveContent = document.querySelector('.objective-content.active');
            if (activeObjectiveContent) {
                const indicatorGrid = activeObjectiveContent.querySelector('.indicator-grid');

                if (indicatorGrid) {
                    let indicatorCards = Array.from(indicatorGrid.querySelectorAll('.indicator-card'));

                    if (selectedYear !== 'all') {
                        indicatorCards.sort((cardA, cardB) => {
                            const canvasA = cardA.querySelector('.indicator-chart canvas');
                            const canvasB = cardB.querySelector('.indicator-chart canvas');
                            if (!canvasA || !canvasB) return 0;
                            const idA = canvasA.id;
                            const idB = canvasB.id;

                            const hasDataA = dataForIndicators[idA]?.years?.length > 0;
                            const hasDataB = dataForIndicators[idB]?.years?.length > 0;

                            if (hasDataA && !hasDataB) return -1;
                            if (!hasDataA && hasDataB) return 1;
                            return 0;
                        });
                    }

                    indicatorCards.forEach(card => {
                        const canvas = card.querySelector('.indicator-chart canvas');
                        let showCard = true;

                        if (selectedYear !== 'all') {
                            const hasDataForSelectedYear = canvas && dataForIndicators[canvas.id]?.years?.length > 0;
                            if (!hasDataForSelectedYear) {
                                showCard = false;
                            }
                        }
                        card.style.display = showCard ? '' : 'none';
                        indicatorGrid.appendChild(card);
                    });
                }
            }

            if (window.capacityChartInstance) window.capacityChartInstance.destroy();
            if (window.timelineChart1Instance) window.timelineChart1Instance.destroy();
            if (window.timelineChart2Instance) window.timelineChart2Instance.destroy();
            if (window.mediaChartInstance) window.mediaChartInstance.destroy();
            if (window.timelineChart3Instance) window.timelineChart3Instance.destroy();

            if (activeContent.id === 'objective1') {
                initIndicatorCharts(dataForIndicators);
                const capacityCtx = document.getElementById('capacityChart').getContext('2d');
                window.capacityChartInstance = new Chart(capacityCtx, {
                    type: 'bar',
                    data: {
                        labels: ['OCA Completed', 'CSO Registration', 'Partnerships'],
                        datasets: [
                            {
                                label: 'Planned',
                                data: [5, 2, 3, 0],
                                backgroundColor: 'rgba(110, 202, 220, 0.5)',
                                borderColor: 'rgba(110, 202, 220, 1)',
                                borderWidth: 1
                            },
                            {
                                label: 'Actual',
                                data: [0, 0, 0, 0],
                                backgroundColor: 'rgba(0, 95, 134, 0.7)',
                                borderColor: 'rgba(0, 95, 134, 1)',
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        indexAxis: 'x',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let val = Math.round(context.raw);
                                        return context.dataset.label + ': ' + val;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                },
                                ticks: {
                                    font: {
                                        size: 10
                                    }
                                }
                            },
                            y: {
                                beginAtZero: true,
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    font: {
                                        size: 10
                                    },
                                    stepSize: 1,
                                    callback: function(value) {
                                        return Math.round(value);
                                    }
                                }
                            }
                        }
                    }
                });
                const timelineCtx1 = document.getElementById('timelineChart1').getContext('2d');
                window.timelineChart1Instance = new Chart(timelineCtx1, {
                    type: 'line',
                    data: {
                        datasets: [
                            {
                                label: 'Output 1.1',
                                data: [
                                    { x: '2025-06-01', y: 0 },
                                    { x: '2028-05-30', y: 0 }
                                ],
                                borderColor: 'rgba(0, 95, 134, 1)',
                                backgroundColor: 'rgba(0, 95, 134, 0.1)',
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Output 1.2',
                                data: [
                                    { x: '2026-05-01', y: 0 },
                                    { x: '2026-07-30', y: 0 }
                                ],
                                borderColor: 'rgba(110, 202, 220, 1)',
                                backgroundColor: 'rgba(110, 202, 220, 0.1)',
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Output 1.3',
                                data: [
                                    { x: '2027-05-01', y: 0 },
                                    { x: '2028-04-30', y: 0 }
                                ],
                                borderColor: 'rgba(227, 232, 41, 1)',
                                backgroundColor: 'rgba(227, 232, 41, 0.1)',
                                fill: true,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'time',
                                time: { unit: 'month', displayFormats: { month: 'MMM yyyy' } }, // Fixed syntax error here
                                title: { display: true, text: 'Timeline' }
                            },
                            y: {
                                title: { display: true, text: 'Completion %' },
                                min: 0,
                                max: 100
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.dataset.label}: ${context.parsed.y}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            if (activeContent.id === 'objective2') {
                initIndicatorCharts(dataForIndicators);
                const timelineCtx2 = document.getElementById('timelineChart2').getContext('2d');
                window.timelineChart2Instance = new Chart(timelineCtx2, {
                    type: 'line',
                    data: {
                        datasets: [
                            {
                                label: 'Output 2.1',
                                data: [
                                    { x: '2026-06-01', y: 0 },
                                    { x: '2028-04-30', y: 0 }
                                ],
                                borderColor: 'rgba(0, 95, 134, 1)',
                                backgroundColor: 'rgba(0, 95, 134, 0.1)',
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Output 2.2',
                                data: [
                                    { x: '2026-05-01', y: 0 },
                                    { x: '2028-04-30', y: 0 }
                                ],
                                borderColor: 'rgba(110, 202, 220, 1)',
                                backgroundColor: 'rgba(110, 202, 220, 0.1)',
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Output 2.3',
                                data: [
                                    { x: '2026-05-01', y: 0 },
                                    { x: '2028-04-30', y: 0 }
                                ],
                                borderColor: 'rgba(227, 232, 41, 1)',
                                backgroundColor: 'rgba(227, 232, 41, 0.1)',
                                fill: true,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'time',
                                time: { unit: 'month', displayFormats: { month: 'MMM yyyy' } }, // Fixed syntax error here
                                title: { display: true, text: 'Timeline' }
                            },
                            y: {
                                title: { display: true, text: 'Completion %' },
                                min: 0,
                                max: 100
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.dataset.label}: ${context.parsed.y}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            if (activeContent.id === 'objective3') {
                initIndicatorCharts(dataForIndicators);
                const mediaCtx = document.getElementById('mediaChart').getContext('2d');
                if (window.mediaChartInstance) {
                    window.mediaChartInstance.destroy();
                }

                const mediaChartLabels = mediaPlatformTasksData.map(task => task.name);
                const mediaChartGeneratedDatasets = [];
                const numMediaTasks = mediaPlatformTasksData.length;

                mediaPlatformTasksData.forEach((task, index) => {
                    const plannedTaskData = Array(numMediaTasks).fill(null);
                    if (task.planned) {
                        plannedTaskData[index] = task.planned;
                    }
                    mediaChartGeneratedDatasets.push({
                        label: 'Planned',
                        data: plannedTaskData,
                        backgroundColor: 'rgba(242, 101, 34, 0.5)',
                        borderColor: 'rgba(242, 101, 34, 1)'
                    });

                    const actualTaskData = Array(numMediaTasks).fill(null);
                    if (task.actual) {
                        actualTaskData[index] = task.actual;
                    }
                    mediaChartGeneratedDatasets.push({
                        label: 'Actual',
                        data: actualTaskData,
                        backgroundColor: 'rgba(242, 101, 34, 0.8)',
                        borderColor: 'rgba(242, 101, 34, 1)'
                    });
                });

                window.mediaChartInstance = new Chart(mediaCtx, {
                    type: 'bar',
                    data: {
                        labels: mediaChartLabels,
                        datasets: mediaChartGeneratedDatasets
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Content Distribution Platform Development Progress',
                                font: { size: 16, weight: '600' }
                            },
                            legend: {
                                position: 'top',
                                labels: { font: { size: 11 }, usePointStyle: true, pointStyle: 'rect' }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const datasetLabel = context.dataset.label || '';
                                        const value = context.raw;
                                        if (Array.isArray(value) && value.length === 2) {
                                            const startDate = new Date(value[0]).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });
                                            const endDate = new Date(value[1]).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });
                                            return `${datasetLabel}: ${startDate} - ${endDate}`;
                                        }
                                        return null;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                type: 'time',
                                time: { unit: 'month', displayFormats: { month: 'MMM yyyy' } },
                                min: '2025-10-01',
                                max: '2026-05-31',
                                grid: { color: 'rgba(0,0,0,0.05)' },
                                ticks: { font: { size: 10 } }
                            },
                            y: {
                                grid: { color: 'rgba(0,0,0,0.05)' },
                                ticks: { font: { size: 10 } }
                            }
                        }
                    }
                });

                const timelineCtx3 = document.getElementById('timelineChart3').getContext('2d');
                window.timelineChart3Instance = new Chart(timelineCtx3, {
                    type: 'line',
                    data: {
                        datasets: [
                            {
                                label: 'Output 3.1',
                                data: [
                                    { x: '2025-09-01', y: 0 },
                                    { x: '2028-04-30', y: 0 }
                                ],
                                borderColor: 'rgba(242, 101, 34, 1)',
                                backgroundColor: 'rgba(242, 101, 34, 0.1)',
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Output 3.2',
                                data: [
                                    { x: '2025-06-01', y: 0 },
                                    { x: '2026-07-30', y: 0 }
                                ],
                                borderColor: 'rgba(0, 95, 134, 1)',
                                backgroundColor: 'rgba(0, 95, 134, 0.1)',
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Output 3.3',
                                data: [
                                    { x: '2026-01-01', y: 0 },
                                    { x: '2028-02-30', y: 0 }
                                ],
                                borderColor: 'rgba(0, 95, 134, 1)',
                                backgroundColor: 'rgba(0, 95, 134, 0.1)',
                                fill: true,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: { font: { size: 12, weight: '500' }, usePointStyle: true, pointStyle: 'circle' }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(255, 255, 255, 0.9)',
                                titleColor: '#333',
                                bodyColor: '#666',
                                borderColor: '#ddd',
                                borderWidth: 1,
                                padding: 10,
                                displayColors: true,
                                usePointStyle: true
                            }
                        },
                        scales: {
                            x: {
                                type: 'time',
                                time: { unit: 'month', displayFormats: { month: 'MMM yyyy' } },
                                grid: { color: 'rgba(0, 0, 0, 0.05)' },
                                ticks: { font: { size: 10 } }
                            },
                            y: {
                                beginAtZero: true,
                                max: 100,
                                grid: { color: 'rgba(0, 0, 0, 0.05)' },
                                ticks: { font: { size: 10 } }
                            }
                        }
                    }
                });
            }
        }

        // --- Tab switching logic ---
        document.querySelectorAll('.objective-tab').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.objective-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                const target = this.getAttribute('data-target');
                document.querySelectorAll('.menu-item').forEach(item => {
                    if (item.getAttribute('data-target') === target && !item.hasAttribute('data-scroll')) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });

                document.querySelectorAll('.objective-content').forEach(c => c.classList.remove('active'));
                document.getElementById(target).classList.add('active');

                initCharts(projectChartData);
            });
        });

        // Sidebar menu click logic
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function () {
                document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                const target = this.getAttribute('data-target');
                document.querySelectorAll('.objective-tab').forEach(tab => {
                    if (tab.getAttribute('data-target') === target) {
                        tab.classList.add('active');
                    } else {
                        tab.classList.remove('active');
                    }
                });

                document.querySelectorAll('.objective-content').forEach(c => c.classList.remove('active'));
                document.getElementById(target).classList.add('active');

                const scrollId = this.getAttribute('data-scroll');
                if (scrollId) {
                    setTimeout(() => {
                        const el = document.getElementById(scrollId);
                        if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                }

                initCharts(projectChartData);
                // Close sidebar on menu item click for mobile
                if (window.innerWidth <= 768) {
                    document.getElementById('sidebar').classList.remove('active');
                    document.getElementById('sidebarOverlay').classList.remove('active');
                }
            });
        });

        // Event Listeners for global filters
        document.getElementById('applyFilter').addEventListener('click', function() {
            initCharts(projectChartData);
        });

        document.getElementById('resetFilter').addEventListener('click', function() {
            document.getElementById('yearFilter').value = 'all';
            initCharts(projectChartData);
        });

        function toggleContent(id) {
            const content = document.getElementById(id);
            const button = content.previousElementSibling;
            
            content.classList.toggle('active');
            button.classList.toggle('active');
            
            if (!content.classList.contains('active')) {
                const videos = content.getElementsByTagName('iframe');
                for (let video of videos) {
                    const videoSrc = video.src;
                    video.src = videoSrc;
                }
            }
        }

        // Mobile menu toggle functionality
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        });

        // Close sidebar when clicking overlay
        document.getElementById('sidebarOverlay').addEventListener('click', function() {
            document.getElementById('sidebar').classList.remove('active');
            document.getElementById('sidebarOverlay').classList.remove('active');
        });

        // On page load, render charts for the default tab
        document.addEventListener('DOMContentLoaded', async function() {
            await fetchAndProcessData();
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
